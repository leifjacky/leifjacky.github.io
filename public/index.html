<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.121.2"><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>MentosSugus</title>

<meta name="description" content="">
<meta name="author" content="">
<link rel="canonical" href="https://www.ycjycj.com/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css" integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U&#43;6hYRq/Ez/nm5vg=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://www.ycjycj.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.ycjycj.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.ycjycj.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://www.ycjycj.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://www.ycjycj.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://www.ycjycj.com/index.xml">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="MentosSugus" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.ycjycj.com/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="MentosSugus"/>
<meta name="twitter:description" content=""/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "MentosSugus",
  "url": "https://www.ycjycj.com/",
  "description": "",
  "thumbnailUrl": "https://www.ycjycj.com/favicon.ico",
  "sameAs": [
      
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.ycjycj.com/" accesskey="h" title="MentosSugus (Alt + H)">MentosSugus</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="first-entry"> 
  <header class="entry-header">
    <h2>Arch Linux下Fcitx5中文输入法失效，显示Not available
    </h2>
  </header>
  <div class="entry-content">
    <p>运行时先是发现boost版本更新了，导致无法启动。直接更新fcitx5即可。
更新fcitx5仍然报错：
Failed to load library for addon pinyin on /usr/lib/fcitx5/libpinyin.so. Error: /usr/lib/fcitx5/libpinyin.so: undefined symbol: \_ZNK6libime13PinyinContext21candidatesToCursorSetB5cxx11Ev 参考https://bbs.archlinuxcn.org/viewtopic.php?id=12859
更新libime就好了pacman -S libime</p>
  </div>
  <footer class="entry-footer">&lt;span title=&#39;2023-10-10 19:21:26 &#43;0800 CST&#39;&gt;October 10, 2023&lt;/span&gt;</footer>
  <a class="entry-link" aria-label="post link to Arch Linux下Fcitx5中文输入法失效，显示Not available" href="https://www.ycjycj.com/posts/archlinux/arch-linux-fcitx5-shuangpin-not-available/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Good and Bad Products
    </h2>
  </header>
  <div class="entry-content">
    <p>分享一些我用过认为好的产品，仅限使用过的，没用过就不好评价了
Good products Mac Pro 2013 垃圾桶
Mac Mini 2012
Lelit bianca V2
B&amp;W 702 S2, Accuphase C-200X P-300L, AuraLic Altair G1
Sony KD-65Z9F
Bad products Macbook 2016 Touchbar 版本
波妞 388</p>
  </div>
  <footer class="entry-footer">&lt;span title=&#39;2023-04-09 01:38:33 &#43;0800 CST&#39;&gt;April 9, 2023&lt;/span&gt;</footer>
  <a class="entry-link" aria-label="post link to Good and Bad Products" href="https://www.ycjycj.com/posts/good-and-bad-products/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Kikopup Weekly Insight Notes
    </h2>
  </header>
  <div class="entry-content">
    <p>A lot of people believe that dogs should set up a pecking order, and then the humans should respect that order. However, what can happen is that the small arguments, intimidating glares and scuffles can go on forever. Some of the dogs feel the need to protect what they have, while others live in fear of stepping into the wrong place at the wrong time. This can actually sometimes be more stressful for the bullying dog than the dog being bullied....</p>
  </div>
  <footer class="entry-footer">&lt;span title=&#39;2023-04-09 01:01:12 &#43;0800 CST&#39;&gt;April 9, 2023&lt;/span&gt;</footer>
  <a class="entry-link" aria-label="post link to Kikopup Weekly Insight Notes" href="https://www.ycjycj.com/posts/kikopup-weekly-insight-notes/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>牛奶科学、奶泡和拉花笔记
    </h2>
  </header>
  <div class="entry-content">
    <p>Bilibili 中文视频
组成 牛奶由 3 部分组成：糖、蛋白质和脂肪
1 摄氏度=33.8 华氏度 糖 牛奶中的糖主要是乳糖 咖啡的温度，要使牛奶在此温度下的甜度最大 蛋白质 蛋白质在冷牛奶中是卷曲的，加热中逐渐展开，露出亲水端和疏水端。 奶泡由蛋白质包围，过高的温度会使气泡破裂 脂肪 脂肪影响牛奶的厚度，以及奶泡质量和持续时间 温度 4 摄氏度。温度太低，糖几乎没有甜味，蛋白质还是卷曲状，脂肪则是固体。 37 摄氏度。开始展现甜味，蛋白质结构开始变化，脂肪变成液体。由于脂肪变成液体，也使得蛋白质可以和别的东西结合，这时应该停止注入空气。 60 摄氏度。糖的口感最甜，蛋白质结构完全展开，脂肪全部变成液体。这时是最佳饮用温度。 70 摄氏度。太烫失去甜感，蛋白质变性。 体积 将正确体积的冷牛奶倒入正确大小的拉花缸中。 打发好的牛奶应该与实际需要拉花的杯子容量相等。 假设本来有 30ml 的 espresso，拉花完之后会剩下 30ml 左右的牛奶。 拿铁需要 25%的奶泡，卡布奇诺需要 50%。 打发 蒸汽棒头部与竖直夹角 10~20 度 拉花 高度（拉花缸嘴到液面的距离） 8cm，奶泡穿透意式浓缩咖啡的表面，使杯中液体保持深褐色。（融合） 3cm，部分奶泡浸没，部分浮在表面，产生我们不想要的朦胧米色。 1cm，清晰的白色。 为了尽可能近与快，将杯子倾斜 30~45 度。 流量 开始时用较小的流量，随着图案逐渐形成，加快倒入的速度。使图案继续流动，避免在倒入的地方堆积。 位置 花纹 </p>
  </div>
  <footer class="entry-footer">&lt;span title=&#39;2023-04-08 22:38:26 &#43;0800 CST&#39;&gt;April 8, 2023&lt;/span&gt;</footer>
  <a class="entry-link" aria-label="post link to 牛奶科学、奶泡和拉花笔记" href="https://www.ycjycj.com/posts/milk-foam-latte-art/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Golang进程崩溃日志
    </h2>
  </header>
  <div class="entry-content">
    <p>export GOTRACEBACK=crash
或者你把 ./daemon env GOTRACEBACK=crash ./robot_server –log_dir=${log_dir} –conf=robotserver.conf &amp; 改写成：env GOTRACEBACK=crash ./daemon ./robot_server –log_dir=${log_dir} –conf=robotserver.conf &amp; 也是可以的
开发服务器程序时如果未经过充分测试， 服务稳定运行一段时间后会突然崩溃退出。一般是因为程序中出现了某个未捕获的异常。 这类问题属于偶现的，且需要服务器运行一段时间之后才会出现，难以定位有问题的代码段。
这中情况下应该将服务进程的 stderr 重定向至某个文件，这样当进程因未捕获的异常导致崩溃时，go 运行时会将异常发生时各个协程的调用栈信息记录下来，便于定位问题。
logFile, err := os.OpenFile(&#34;./log/fatal.log&#34;, os.O_CREATE|os.O_APPEND|os.O_RDWR, 0660) if err != nil { log.Println(&#34;服务启动出错&#34;, &#34;打开异常日志文件失败&#34; , err) return } // 将进程标准出错重定向至文件，进程崩溃时运行时将向该文件记录协程调用栈信息 syscall.Dup2(int(logFile.Fd()), int(os.Stderr.Fd())) 以上代码利用了 linux 系统中的 dup 系统调用，用以将某一文件描述符指向一个新的文件。在 windows 系统及 mac 系统下暂时不可用。</p>
  </div>
  <footer class="entry-footer">&lt;span title=&#39;2023-04-08 00:23:43 &#43;0800 CST&#39;&gt;April 8, 2023&lt;/span&gt;</footer>
  <a class="entry-link" aria-label="post link to Golang进程崩溃日志" href="https://www.ycjycj.com/posts/golang/process-crash/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Ethereum Contract Notes
    </h2>
  </header>
  <div class="entry-content">
    <p>Sodility IDE: https://remix.ethereum.org
first.sol
pragma solidity ^0.4.0; contract SimpleStorage { uint storedData; function set(uint x) public { storedData = x; } function get() public constant returns (uint) { return storedData; } } coin.sol
pragma solidity ^0.4.21; contract Coin { address public minter; mapping (address =&gt; uint) public balances; event Sent(address from, address to, uint amount); constructor() public { minter= msg.sender; } function mint(address receiver, uint amount) public { if (msg.sender !...</p>
  </div>
  <footer class="entry-footer">&lt;span title=&#39;2023-04-08 00:23:00 &#43;0800 CST&#39;&gt;April 8, 2023&lt;/span&gt;</footer>
  <a class="entry-link" aria-label="post link to Ethereum Contract Notes" href="https://www.ycjycj.com/posts/ethereum-contract-notes/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Rust Notes
    </h2>
  </header>
  <div class="entry-content">
    <p>let 声明变量，mut 可变变量 let mut x: i8 = 1; let y = 2; 函数声明 fn calc(wf: f64) -&gt; f64 { wf &#43; 127.3 } fn fibonaci(mut n: i8) -&gt; i64 { if n == 1 { return 1; } else if n == 2 { return 2; } let mut last = 2; let mut ret = 3; while n &gt; 3 { let temp = ret; ret &#43;= last; last = temp; n -= 1; } return ret; } Rust 中的整型 长度 有符号 无符号 8-bit i8 u8 16-bit i16 u16 32-bit i32 u32 64-bit i64 u64 128-bit i128 u128 arch isize usize Rust 中的整型字面值 数字字面值 例子 Decimal (十进制) 98_222 Hex (十六进制) 0xff Octal (八进制) 0o77 Binary (二进制) 0b1111_0000 Byte (单字节字符)(仅限于 u8) b’A&#39; 元组类型 let tup: (i32, f64, u8) = (500, 6....</p>
  </div>
  <footer class="entry-footer">&lt;span title=&#39;2023-04-08 00:22:20 &#43;0800 CST&#39;&gt;April 8, 2023&lt;/span&gt;</footer>
  <a class="entry-link" aria-label="post link to Rust Notes" href="https://www.ycjycj.com/posts/rust-notes/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>gin使用cache的坑，CachePage与CachePageAtomic的区别
    </h2>
  </header>
  <div class="entry-content">
    <p>gin-contrib/cache 官网: https://github.com/gin-contrib/cache
cache 初体验 最近做项目时候需要使用到 gin 的 cache，后端 http 服务提供 api 时使用缓存是很常见的情景。github 提供的例子里简单的介绍了 cache 组件的使用方法：
func main() { r := gin.Default() store := persistence.NewInMemoryStore(time.Second) r.GET(&#34;/ping&#34;, func(c *gin.Context) { c.String(200, &#34;pong &#34;&#43;fmt.Sprint(time.Now().Unix())) }) // Cached Page r.GET(&#34;/cache_ping&#34;, cache.CachePage(store, time.Minute, func(c *gin.Context) { c.String(200, &#34;pong &#34;&#43;fmt.Sprint(time.Now().Unix())) })) // Listen and Server in 0.0.0.0:8080 r.Run(&#34;:8080&#34;) } 运行结果：
$ curl 127.0.0.1:8080/ping pong 1563888434 $ curl 127.0.0.1:8080/ping pong 1563888435 $ curl 127.0.0.1:8080/ping pong 1563888436 $ curl 127....</p>
  </div>
  <footer class="entry-footer">&lt;span title=&#39;2023-04-08 00:18:53 &#43;0800 CST&#39;&gt;April 8, 2023&lt;/span&gt;</footer>
  <a class="entry-link" aria-label="post link to gin使用cache的坑，CachePage与CachePageAtomic的区别" href="https://www.ycjycj.com/posts/gin-cache-problem/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>一种golang tcp服务热更新方法
    </h2>
  </header>
  <div class="entry-content">
    <p>参考：
go-graceful-restart-example </p>
  </div>
  <footer class="entry-footer">&lt;span title=&#39;2023-04-08 00:17:26 &#43;0800 CST&#39;&gt;April 8, 2023&lt;/span&gt;</footer>
  <a class="entry-link" aria-label="post link to 一种golang tcp服务热更新方法" href="https://www.ycjycj.com/posts/golang-tcp-graceful-restart/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>一种golang死锁情形
    </h2>
  </header>
  <div class="entry-content">
    <p>最近做项目时候碰到了死锁的情况，还原成简单的代码如下：
package main import ( &#34;fmt&#34; &#34;sync&#34; ) var m sync.RWMutex func main() { lock() defer unlock() doSthing() } func doSthing() { lock() defer unlock() fmt.Println(&#34;dosting start&#34;) // dosth fmt.Println(&#34;dosting end&#34;) } func lock() { fmt.Println(&#34;lock start&#34;) m.Lock() fmt.Println(&#34;lock end&#34;) } func unlock() { fmt.Println(&#34;unlock start&#34;) m.Unlock() fmt.Println(&#34;unlock end&#34;) } 运行结果：
$ go run main.go lock start lock end lock start fatal error: all goroutines are asleep - deadlock! 想当然认为在正常情形下出现死锁程序会自动退出并提示，但实际使用中有时会很难发现这种错误。先把以上代码的 main 函数稍做修改，模拟使用场景。...</p>
  </div>
  <footer class="entry-footer">&lt;span title=&#39;2023-04-08 00:16:03 &#43;0800 CST&#39;&gt;April 8, 2023&lt;/span&gt;</footer>
  <a class="entry-link" aria-label="post link to 一种golang死锁情形" href="https://www.ycjycj.com/posts/golang-dead-lock/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="https://www.ycjycj.com/page/2/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://www.ycjycj.com/">MentosSugus</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
